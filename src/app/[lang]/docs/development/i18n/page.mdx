# Internationalization (I18n)

This guide provides step-by-step instructions to **add** or **remove** multi-language support (I18n) in your application. The I18n system supports **Right-to-Left (RTL)** and **Left-to-Right (LTR)** layouts based on the selected language.

---

## Adding I18n

### Install I18n Dependencies

Install the required packages for locale matching and negotiation:

```bash
npm install @formatjs/intl-localematcher negotiator
```

```bash
npm install --save-dev @types/negotiator
```

---

### Restructure the Application

1. In the `src/app` directory, create a folder named `[lang]`.
2. Move all content from `src/app` into `src/app/[lang]`, **excluding**:
   - `src/app/api`
   - `favicon`
   - `global.css`
3. Update all path references in the moved files to reflect the new structure.

---

### Add Required Files

Add these files from the **full-kit**:

- `src/configs/i18n.ts`
- `src/lib/i18n.ts`
- `src/lib/getDictionary.ts`

---

### Add Language Dictionaries

1. In `src/data`, create a `dictionaries` folder.
2. Inside `dictionaries`, create a JSON file for each supported language (e.g., `en.json`, `ar.json`).

**Example**: `src/data/dictionaries/en.json`:

```json
{
  "user-nav": {
    "profile": "Profile",
    "settings": "Settings",
    "sign-out": "Sign out"
  }
}
```

Add similar dictionaries for other languages as required.

---

### Update the `DashboardLayout` Component

Update the `DashboardLayout` component in `src/app/[lang]/(dashboard-layout)/layout.tsx` as follows:

```typescript
import { getDictionary } from "@/lib/getDictionary";

import type { LocaleType } from "@/types";

import { Layout } from "@/components/layout";

export default async function DashboardLayout({
  children,
  params,
}: {
  children: React.ReactNode;
  params: { lang: LocaleType };
}) {
  const dictionary = await getDictionary(params.lang);

  return <Layout dictionary={dictionary}>{children}</Layout>;
}
```

---

### Update the `Layout` Component

Update the `Layout` component in `src/components/layout/index.tsx` as follows:

```typescript
"use client";

import * as React from "react";

import { useSettings } from "@/hooks/use-settings";

import type { DictionaryType } from "@/lib/getDictionary";

import VerticalLayout from "./vertical-layout";
import HorizontalLayout from "./horizontal-layout";
import { Customizer } from "./customizer";

export function Layout({
  children,
  dictionary,
}: {
  children: React.ReactNode;
  dictionary: DictionaryType;
}) {
  const { settings } = useSettings();
  const isVertical = settings.layout === "vertical";

  return (
    <>
      <Customizer />
      {isVertical ? (
        <VerticalLayout dictionary={dictionary}>{children}</VerticalLayout>
      ) : (
        <HorizontalLayout dictionary={dictionary}>{children}</HorizontalLayout>
      )}
    </>
  );
}
```

---

### Update Layout Components

Use the implementations of `VerticalLayout` and `HorizontalLayout` from the **full-kit**, ensuring:

1. They accept the `dictionary` prop of type `DictionaryType`.
2. All nested components within these layouts utilize the `dictionary` prop as needed.

---

### 8. Update Headers and Components

Ensure that all components requiring localization (e.g., dropdowns, navs) are updated to accept and use the `dictionary` prop.

#### Example: Updating `DropdownMenuLabel`

Replace static text with dictionary-based content.

**Before**:

```tsx
<DropdownMenuLabel>language</DropdownMenuLabel>
```

**After**:

```tsx
<DropdownMenuLabel>
  {dictionary.navigation.language["language"]}
</DropdownMenuLabel>
```

---

## Removing I18n

Follow these steps to remove I18n from the project and revert to a single-language setup.

---

### Uninstall Dependencies

Remove I18n-related packages:

```bash
npm uninstall @formatjs/intl-localematcher @types/negotiator negotiator
```

---

### Restructure the Application

1. Move all content from `src/app/[lang]` back to `src/app`.
2. Delete the `[lang]` folder entirely.
3. Remove `params` and `lang` references in `layout.tsx` files.

---

### Remove Language Dictionaries

1. Delete the `src/data/dictionaries` folder.
2. Remove any references to `getDictionary` and dictionary props throughout the project.

---

### Update Components

Remove dictionary-related code from layout components and headers:

#### Example: `DropdownMenuLabel`

**Before**:

```tsx
<DropdownMenuLabel>
  {dictionary.navigation.language["language"]}
</DropdownMenuLabel>
```

**After**:

```tsx
<DropdownMenuLabel>language</DropdownMenuLabel>
```

---

### Clean Up Layout Files

Revert `DashboardLayout` to a single-language implementation:

```typescript
import { Layout } from "@/components/layout";

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return <Layout>{children}</Layout>;
}
```

---

### Remove I18n Configurations and Utilities

Delete the following files:

- `src/configs/i18n.ts`
- `src/lib/i18n.ts`
- `src/lib/getDictionary.ts`

---

## Additional Resources

For more information on Internationalization (I18n) in Next.js, refer to the official documentation:

[Next.js I18n Documentation](https://nextjs.org/docs/app/building-your-application/routing/internationalization)

---

## Conclusion

With this guide, you can now **add** or **remove** Internationalization (I18n) from your project as needed. ðŸŽ‰
